:root{
  --red:#b71c1c;
  --red-acc:#c93a3a;

  --gold:#f6c842;
  --gap-width:30vw;
  --door-duration:1.9s;

  --shadow-deep: 0 28px 90px rgba(0,0,0,0.78);
  --shadow-hot: 0 18px 60px rgba(255,180,70,0.18);
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:#000}
body{
  font-family:"Montserrat", Arial, sans-serif;
  overflow:hidden;
  -webkit-font-smoothing:antialiased;
}

#app{ height:100%; }

/* ================== LOCK BLUR ================== */
body.is-locked #app{
  filter: blur(7px) brightness(0.72) saturate(0.92);
  transform: scale(1.01);
  transition: filter .55s ease, transform .55s ease;
  pointer-events:none;
  user-select:none;
}

/* ================== ROTATE OVERLAY (TOP PRIORITY) ================== */
.rotate-overlay{
  position:fixed; inset:0;
  z-index:10001;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.70);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: opacity .35s ease, transform .35s ease;
}
.rotate-overlay.hide{
  opacity:0;
  transform: scale(1.02);
  pointer-events:none;
}
.rotate-card{
  width:min(420px, 90vw);
  padding:22px 18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(circle at 30% 20%, rgba(255,235,180,0.12), transparent 60%),
    linear-gradient(180deg, rgba(20,8,0,0.74), rgba(0,0,0,0.70));
  box-shadow: 0 28px 90px rgba(0,0,0,0.75), 0 0 70px rgba(255,210,110,0.10);
  text-align:center;
}
.rotate-icon{ font-size:44px; }
.rotate-title{
  margin-top:10px;
  font-weight:900;
  font-size:22px;
  letter-spacing:0.7px;
  color:#fff;
  text-shadow: 0 12px 34px rgba(0,0,0,0.75);
}
.rotate-sub{
  margin-top:8px;
  color: rgba(255,255,255,0.80);
  font-weight:600;
  font-size:14px;
}

/* ================== ACTIVATE OVERLAY ================== */
.activate-overlay{
  position:fixed; inset:0;
  z-index:10000;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: opacity .45s ease, transform .45s ease;
}
.activate-overlay.hide{
  opacity:0;
  transform: scale(1.02);
  pointer-events:none;
}
.activate-card{
  width:min(420px, 90vw);
  padding:22px 18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(circle at 30% 20%, rgba(255,235,180,0.12), transparent 60%),
    linear-gradient(180deg, rgba(20,8,0,0.72), rgba(0,0,0,0.66));
  box-shadow: 0 28px 90px rgba(0,0,0,0.70), 0 0 70px rgba(255,210,110,0.10);
  text-align:center;
}
.activate-title{
  font-weight:900;
  font-size:24px;
  letter-spacing:0.8px;
  color:#fff;
  text-shadow: 0 12px 34px rgba(0,0,0,0.75);
}
.activate-sub{
  margin-top:8px;
  color: rgba(255,255,255,0.78);
  font-weight:600;
  font-size:14px;
  letter-spacing:0.2px;
}
.activate-btn{
  margin-top:14px;
  padding:14px 22px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.12);
  background: linear-gradient(180deg, rgba(255,246,205,0.98), rgba(255,210,110,0.96));
  color:#2b0800;
  font-weight:900;
  font-size:18px;
  letter-spacing:0.6px;
  box-shadow: var(--shadow-hot), 0 0 0 6px rgba(255,220,140,0.06), 0 28px 90px rgba(0,0,0,0.50);
  cursor:pointer;
}
.activate-btn:disabled{
  opacity:0.55;
  cursor:not-allowed;
  filter:grayscale(0.2);
}
.activate-btn:hover:not(:disabled){ filter:brightness(1.05) contrast(1.05); transform:translateY(-1px); }
.activate-btn:active:not(:disabled){ transform:translateY(0px) scale(0.99); }
.activate-hint{
  margin-top:10px;
  font-size:12px;
  color: rgba(255,255,255,0.60);
}

/* ================= Ambient ================= */
.vignette{
  position:fixed; inset:0; z-index:5; pointer-events:none;
  background:
    radial-gradient(circle at 50% 45%, rgba(255,210,110,0.08), rgba(0,0,0,0.84) 70%),
    radial-gradient(circle at 12% 15%, rgba(255,230,160,0.06), transparent 55%),
    radial-gradient(circle at 92% 78%, rgba(255,200,80,0.05), transparent 60%);
  mix-blend-mode:screen;
  opacity:0.9;
}
.film-grain{
  position:fixed; inset:0; z-index:6; pointer-events:none;
  background-image: repeating-linear-gradient(0deg, rgba(255,255,255,0.03), rgba(255,255,255,0.03) 1px, transparent 1px, transparent 2px);
  opacity:0.05;
  mix-blend-mode:overlay;
  animation:grainMove 2.2s steps(2) infinite;
}
@keyframes grainMove{
  0%{transform:translate(0,0)}
  50%{transform:translate(-2px,1px)}
  100%{transform:translate(1px,-2px)}
}
.tet-motifs{
  position:fixed; inset:-10%;
  z-index:7; pointer-events:none;
  opacity:0.22;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,220,140,0.26) 0 2px, transparent 3px),
    radial-gradient(circle at 26% 36%, rgba(255,220,140,0.20) 0 1px, transparent 2px),
    radial-gradient(circle at 70% 25%, rgba(255,220,140,0.22) 0 2px, transparent 3px),
    radial-gradient(circle at 78% 32%, rgba(255,220,140,0.18) 0 1px, transparent 2px),
    radial-gradient(circle at 40% 70%, rgba(255,220,140,0.18) 0 2px, transparent 3px),
    radial-gradient(circle at 55% 75%, rgba(255,220,140,0.16) 0 1px, transparent 2px);
  mix-blend-mode:screen;
  animation:motifsDrift 10s ease-in-out infinite;
}
@keyframes motifsDrift{
  0%{transform:translate(0,0) scale(1)}
  50%{transform:translate(-10px,8px) scale(1.02)}
  100%{transform:translate(0,0) scale(1)}
}

/* ================= Borders ================= */
.border{
  position:fixed; left:0; right:0; height:64px;
  background-position:center; background-repeat:no-repeat; background-size:cover;
  z-index:150; pointer-events:none;
}
.border.top{ top:0; background-image:url('assets/border.png'); }
.border.bottom{ bottom:0; background-image:url('assets/border.png'); transform:rotate(180deg); }

/* ================= Doors ================= */
.door{
  position:fixed; top:0; height:100vh; width:50vw;
  z-index:20; overflow:hidden;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(180deg, var(--red-acc) 0%, var(--red) 60%);
  filter:saturate(1.08) contrast(1.10);
  transition: transform var(--door-duration) cubic-bezier(.2,.9,.2,1),
              box-shadow .6s ease, filter .6s ease;
}
.door.left{ left:0; }
.door.right{ left:50%; }

.door .decoration{
  position:absolute; inset:0;
  background-image:url('assets/door-pattern.png');
  background-repeat:repeat;
  opacity:0.95; mix-blend-mode:overlay;
  z-index:22; pointer-events:none;
}
.door .decoration::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(255,232,179,0.96), rgba(255,232,179,0.96));
  mix-blend-mode:screen; opacity:0.26;
  z-index:23; pointer-events:none;
}
.door::after{
  content:""; position:absolute; inset:0;
  background-image:url('assets/motif-overlay.png');
  background-repeat:no-repeat; background-position:center; background-size:140%;
  opacity:0.12; mix-blend-mode:screen;
  z-index:21; pointer-events:none;
}
.door-shine{
  position:absolute; inset:-20%;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,235,180,0.18), transparent 55%),
    radial-gradient(circle at 70% 60%, rgba(255,200,90,0.10), transparent 60%);
  z-index:24; pointer-events:none;
  transform:rotate(-8deg);
  opacity:0.78;
  animation:shineDrift 7.5s ease-in-out infinite;
}
@keyframes shineDrift{
  0%{transform:rotate(-10deg) translate(0,0)}
  50%{transform:rotate(-6deg) translate(12px,-10px)}
  100%{transform:rotate(-10deg) translate(0,0)}
}

/* edge gold strip */
.door::before{
  content:"";
  position:absolute; top:0; bottom:0; width:0;
  z-index:40; pointer-events:none;
  opacity:0;
  background:linear-gradient(180deg, rgba(255,230,120,1), rgba(230,180,50,1));
  box-shadow:0 0 22px rgba(255,210,110,0.20);
  transition: width var(--door-duration) cubic-bezier(.2,.9,.2,1), opacity .6s ease;
}
.door.left::before{ right:0; border-radius:0 2px 2px 0; }
.door.right::before{ left:0; border-radius:2px 0 0 2px; }
.door.open.left::before, .door.open.right::before{ width:12px; opacity:1; }

.door.open.left{
  transform: translateX(calc(-1 * (var(--gap-width) / 2 + 5vw)));
  box-shadow: var(--shadow-deep);
  animation:doorJitter .7s ease 1;
}
.door.open.right{
  transform: translateX(calc((var(--gap-width) / 2 + 5vw)));
  box-shadow: var(--shadow-deep);
  animation:doorJitter .7s ease 1;
}
@keyframes doorJitter{
  0%{filter:saturate(1.08) contrast(1.10)}
  35%{filter:saturate(1.25) contrast(1.16)}
  70%{filter:saturate(1.10) contrast(1.12)}
  100%{filter:saturate(1.08) contrast(1.10)}
}

/* ================= Circles ================= */
.circle{
  position:absolute; border-radius:50%;
  z-index:29; pointer-events:none;
  box-shadow:0 10px 28px rgba(0,0,0,0.50);
  mix-blend-mode:multiply;
  opacity:0.98;
  transform-origin:center;
  transition: opacity 1.6s ease, transform .6s ease, filter .6s ease;
}
.circle.fade{ opacity:0; transform:scale(0.96); filter:blur(1px); }

/* LEFT */
.left .l1 { left:8%;  top:14%; width:110px; height:110px; background-color: rgba(90,0,0,0.22); border:1px solid rgba(0,0,0,0.10); }
.left .l2 { left:18%; top:40%; width:78px;  height:78px;  background-color: rgba(95,0,0,0.18); border:1px solid rgba(0,0,0,0.08); }
.left .l3 { left:28%; top:68%; width:98px;  height:98px;  background-color: rgba(80,0,0,0.20); border:1px solid rgba(0,0,0,0.10); }
.left .l4 { left:12%; top:58%; width:86px;  height:86px;  background-color: rgba(100,0,0,0.16); border:1px solid rgba(0,0,0,0.08); }
.left .l5 { left:22%; top:22%; width:70px;  height:70px;  background-color: rgba(110,0,0,0.14); border:1px solid rgba(0,0,0,0.07); }
.left .l6 { left:34%; top:36%; width:58px;  height:58px;  background-color: rgba(90,0,0,0.17); border:1px solid rgba(0,0,0,0.07); }

/* RIGHT */
.right .r1 { right:8%;  top:14%; width:110px; height:110px; background-color: rgba(90,0,0,0.22); border:1px solid rgba(0,0,0,0.10); }
.right .r2 { right:18%; top:40%; width:78px;  height:78px;  background-color: rgba(95,0,0,0.18); border:1px solid rgba(0,0,0,0.08); }
.right .r3 { right:28%; top:68%; width:98px;  height:98px;  background-color: rgba(80,0,0,0.20); border:1px solid rgba(0,0,0,0.10); }
.right .r4 { right:12%; top:58%; width:86px;  height:86px;  background-color: rgba(100,0,0,0.16); border:1px solid rgba(0,0,0,0.08); }
.right .r5 { right:22%; top:22%; width:70px;  height:70px;  background-color: rgba(110,0,0,0.14); border:1px solid rgba(0,0,0,0.07); }
.right .r6 { right:34%; top:36%; width:58px;  height:58px;  background-color: rgba(90,0,0,0.17); border:1px solid rgba(0,0,0,0.07); }

@keyframes gentleFloat{ 0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)} }
.left .l1, .left .l3, .right .r1, .right .r3 { animation: gentleFloat 6.6s ease-in-out infinite; }
.left .l2, .left .l5, .right .r2, .right .r5 { animation: gentleFloat 7.4s ease-in-out .4s infinite; }
.left .l4, .left .l6, .right .r4, .right .r6 { animation: gentleFloat 8.2s ease-in-out .8s infinite; }

/* ================= Banners ================= */
.banner.vertical{
  position:relative;
  z-index:30;
  width:86px;
  text-align:center;
  font-family:'Great Vibes', serif;
  color:transparent;
  -webkit-background-clip:text;
  background-image: linear-gradient(180deg,#ffe9bf,#ffd58a);
  -webkit-text-stroke:1px rgba(140,80,20,0.85);
  text-shadow:0 6px 18px rgba(0,0,0,0.34);
  font-size:36px;
  line-height:0.92;
  pointer-events:none;
}

/* ================= Firecrackers ================= */
.firecracker{
  position:absolute;
  width:110px; height:220px;
  z-index:28; pointer-events:none;
  opacity:0.9;
  filter: drop-shadow(0 18px 28px rgba(0,0,0,0.55));
}
.firecracker::before{
  content:"";
  position:absolute; inset:0;
  border-radius:20px;
  background:
    linear-gradient(180deg, rgba(255,220,140,0.22), transparent 34%),
    repeating-linear-gradient(180deg,
      rgba(255,200,80,0.0) 0 8px,
      rgba(255,200,80,0.18) 8px 10px
    ),
    linear-gradient(180deg, rgba(170,0,0,0.18), rgba(0,0,0,0.06));
  border:1px solid rgba(255,255,255,0.08);
}
.firecracker::after{
  content:"";
  position:absolute; left:50%; top:-26px;
  width:2px; height:34px; transform:translateX(-50%);
  background: rgba(255,220,140,0.55);
  box-shadow: 0 0 20px rgba(255,220,140,0.16);
}
.fc-left{ left:7%; top:22%; transform:rotate(-6deg); animation: fcSwing 5.8s ease-in-out infinite; }
.fc-right{ right:7%; top:22%; transform:rotate(6deg); animation: fcSwing 6.4s ease-in-out .4s infinite; }
@keyframes fcSwing{
  0%{transform:rotate(-6deg) translateY(0)}
  50%{transform:rotate(-2deg) translateY(-8px)}
  100%{transform:rotate(-6deg) translateY(0)}
}

/* ================= GAP ================= */
.gap{
  position:fixed; left:50%; top:0; transform:translateX(-50%);
  height:100vh; width:0;
  z-index:50; pointer-events:none;
  overflow:visible;
  display:flex; align-items:center; justify-content:center;
  transition: width var(--door-duration) cubic-bezier(.2,.9,.2,1);
}
.gap.open{ width: var(--gap-width); }

.gap-glow{
  position:absolute;
  width: calc(var(--gap-width)); height:100%;
  background:#000;
  opacity:0;
  z-index:210;
  pointer-events:none;
  border-left:2px solid rgba(0,0,0,0.35);
  border-right:2px solid rgba(0,0,0,0.35);
  box-shadow: inset 0 0 160px rgba(0,0,0,0.72);
  transition: opacity .75s ease, box-shadow .75s ease;
}
.gap.open .gap-glow{
  opacity:1;
  box-shadow:
    0 0 260px rgba(255,200,80,0.14),
    0 0 80px rgba(255,240,200,0.06),
    inset 0 0 150px rgba(255,255,255,0.03),
    inset 0 0 220px rgba(0,0,0,0.80);
}

.gap-beam{
  position:absolute; top:0; bottom:0;
  width:22%;
  left:50%; transform:translateX(-50%);
  background: linear-gradient(180deg, rgba(255,235,190,0.0), rgba(255,210,120,0.12), rgba(255,235,190,0.0));
  filter: blur(10px);
  opacity:0;
  z-index:205;
  transition: opacity .7s ease;
}
.gap-beam.beam2{
  width:42%;
  background: linear-gradient(180deg, rgba(255,240,210,0.0), rgba(255,200,80,0.09), rgba(255,240,210,0.0));
  filter: blur(18px);
}
.gap.open .gap-beam{
  opacity:1;
  animation: beamPulse 2.4s ease-in-out infinite;
}
@keyframes beamPulse{
  0%{transform:translateX(-50%) scaleX(0.95); opacity:0.65}
  50%{transform:translateX(-50%) scaleX(1.08); opacity:1}
  100%{transform:translateX(-50%) scaleX(0.95); opacity:0.7}
}

.gap-sweep{
  position:absolute;
  left:50%;
  width: calc(var(--gap-width));
  height: 22%;
  transform: translateX(-50%) translateY(-120%);
  z-index:211;
  opacity:0;
  background: linear-gradient(180deg, transparent, rgba(255,255,255,0.30), rgba(255,220,140,0.12), transparent);
  filter: blur(8px);
  pointer-events:none;
}
.gap.open .gap-sweep{
  opacity:1;
  animation: sweepDown 1.2s ease-out 1, sweepLoop 3.8s ease-in-out 1.3s infinite;
}
@keyframes sweepDown{
  0%{transform: translateX(-50%) translateY(-140%);}
  100%{transform: translateX(-50%) translateY(520%);}
}
@keyframes sweepLoop{
  0%{transform: translateX(-50%) translateY(-140%); opacity:0.25}
  40%{opacity:0.7}
  100%{transform: translateX(-50%) translateY(520%); opacity:0.15}
}

.gold-mist{
  position:absolute;
  left:50%; top:50%;
  width: calc(var(--gap-width));
  height: 88vh;
  transform: translate(-50%,-50%);
  z-index:213;
  opacity:0;
  pointer-events:none;
  background:
    radial-gradient(circle at 30% 40%, rgba(255,220,140,0.10), transparent 60%),
    radial-gradient(circle at 60% 55%, rgba(255,200,80,0.08), transparent 60%),
    radial-gradient(circle at 50% 65%, rgba(255,240,200,0.06), transparent 55%);
  filter: blur(10px);
}
.gap.open .gold-mist{
  opacity:1;
  animation: mistMove 6.8s ease-in-out infinite;
}
@keyframes mistMove{
  0%{transform:translate(-50%,-50%) scale(1)}
  50%{transform:translate(-50%,-52%) scale(1.02)}
  100%{transform:translate(-50%,-50%) scale(1)}
}

#fireworksCanvas,#starsCanvas,#dustCanvas,#glitterCanvas{
  position:absolute;
  left:50%; top:50%;
  transform: translate(-50%,-50%);
  width:calc(var(--gap-width));
  height:88vh;
  pointer-events:none;
}
#starsCanvas{ z-index:212; opacity:0; transition:opacity .6s ease; }
#dustCanvas{ z-index:213; opacity:0; transition:opacity .7s ease; }
#glitterCanvas{ z-index:214; opacity:0; transition:opacity .7s ease; mix-blend-mode:screen; }
#fireworksCanvas{ z-index:215; opacity:0; transition:opacity .5s ease; }
.gap.open #starsCanvas{ opacity:1; }
.gap.open #dustCanvas{ opacity:1; }
.gap.open #glitterCanvas{ opacity:1; }
.gap.open #fireworksCanvas{ opacity:1; }

/* ================= Lock Box ================= */
.lock-box{
  position:fixed; left:50%; top:50%;
  transform:translate(-50%,-50%);
  z-index:220; width:220px; height:220px;
  display:flex; align-items:center; justify-content:center;
  pointer-events:none;
}
.lock-box::before{
  content:""; position:absolute; inset:0;
  border-radius:16px; z-index:221; pointer-events:none;
  border:4px solid rgba(255,220,120,0.95);
  opacity:0; transform:scale(0.96);
  transition: opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1);
  box-shadow:
    0 10px 32px rgba(255,200,80,0.12) inset,
    0 0 56px rgba(255,200,80,0.10),
    0 28px 90px rgba(0,0,0,0.70);
}
.lock-box.show-border::before{ opacity:1; transform:scale(1); }

.lock{
  position:relative; z-index:222;
  display:flex; flex-direction:column; align-items:center; gap:8px;
  pointer-events:none;
  transition: transform calc(var(--door-duration) * 0.8) cubic-bezier(.2,.9,.2,1), opacity .45s ease;
}
.lock.fall{ transform: translateY(36px) scale(0.98); opacity:0; }

.lock-ring{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:170px; height:170px; border-radius:50%;
  z-index:219; pointer-events:none;
  opacity:0;
  transition: transform .6s cubic-bezier(.2,.9,.2,1), opacity .45s ease;
  box-shadow: 0 0 78px rgba(255,200,80,0.18), inset 0 0 28px rgba(255,220,120,0.10);
  background: radial-gradient(circle at 30% 30%, rgba(255,245,210,0.16), rgba(255,200,80,0.06));
  border:6px solid rgba(255,220,120,0.78);
}
.lock-ring.show{ opacity:1; transform:translate(-50%,-50%) scale(1.08); }

.spark-ring{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:188px; height:188px; border-radius:50%;
  z-index:218; pointer-events:none;
  opacity:0;
  background:
    conic-gradient(from 0deg,
      rgba(255,255,255,0) 0deg,
      rgba(255,240,200,0.55) 14deg,
      rgba(255,220,120,0.0) 34deg,
      rgba(255,255,255,0) 60deg,
      rgba(255,210,90,0.45) 78deg,
      rgba(255,255,255,0) 120deg,
      rgba(255,240,200,0.50) 150deg,
      rgba(255,255,255,0) 220deg,
      rgba(255,220,120,0.42) 260deg,
      rgba(255,255,255,0) 360deg
    );
  filter:blur(0.6px);
  transition:opacity .6s ease;
}
.lock-box.show-border .spark-ring{
  opacity:0.75;
  animation: spinRing 2.4s linear infinite;
}
@keyframes spinRing{ to{ transform:translate(-50%,-50%) rotate(360deg); } }

.padlock{
  font-size:44px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.06));
  padding:12px; border-radius:14px;
  box-shadow: 0 16px 56px rgba(0,0,0,0.70);
  color:var(--gold);
  animation: lockBreath 2.6s ease-in-out infinite;
}
@keyframes lockBreath{
  0%{transform:translateY(0) scale(1)}
  50%{transform:translateY(-2px) scale(1.02)}
  100%{transform:translateY(0) scale(1)}
}
.lock-time{
  margin-top:6px;
  font-weight:900;
  color:#fff;
  font-size:20px;
  letter-spacing:2px;
  background: rgba(0,0,0,0.44);
  padding:9px 16px;
  border-radius:12px;
  min-width:160px;
  text-align:center;
  border:1px solid rgba(255,255,255,0.10);
}

/* Enter button */
.enter-btn{
  position:absolute; z-index:223;
  left:50%; top:50%;
  transform:translate(-50%,-50%) scale(0.96);
  padding:14px 22px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.10);
  background: linear-gradient(180deg, rgba(255,246,205,0.98), rgba(255,210,110,0.96));
  color:#2b0800;
  font-weight:900;
  font-size:18px;
  letter-spacing:0.7px;
  box-shadow: var(--shadow-hot), 0 0 0 6px rgba(255,220,140,0.06), 0 28px 90px rgba(0,0,0,0.55);
  cursor:pointer;
  pointer-events:auto;
  opacity:0;
  transition: opacity .55s ease, transform .45s cubic-bezier(.2,.9,.2,1), filter .45s ease;
  overflow:hidden;
}
.enter-btn .btn-text{ position:relative; z-index:2; }
.enter-btn .btn-glow{
  position:absolute; inset:-40%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.55), rgba(255,255,255,0.0) 60%);
  filter: blur(2px);
  opacity:0.45;
  animation: glowMove 2.2s ease-in-out infinite;
}
@keyframes glowMove{
  0%{transform:translate(-6%, -4%)}
  50%{transform:translate(6%, 4%)}
  100%{transform:translate(-6%, -4%)}
}
.enter-btn .btn-spark{
  position:absolute; top:-20%; bottom:-20%;
  width:42%;
  left:-60%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.70), transparent);
  transform:skewX(-18deg);
  opacity:0.55;
  filter: blur(0.6px);
  animation: sweep 2.4s ease-in-out infinite;
}
@keyframes sweep{
  0%{left:-70%}
  55%{left:120%}
  100%{left:120%}
}
.enter-btn.show{ opacity:1; transform:translate(-50%,-50%) scale(1); }
.enter-btn:hover{ transform:translate(-50%,-50%) scale(1.03); filter:brightness(1.05) contrast(1.05); }
.enter-btn:active{ transform:translate(-50%,-50%) scale(0.99); }

/* button burst */
.btn-burst{
  position:absolute; left:50%; top:50%;
  width:10px; height:10px;
  transform:translate(-50%,-50%);
  z-index:224;
  pointer-events:none;
  opacity:0;
}
.btn-burst.boom{ opacity:1; animation: burstFade 700ms ease-out 1; }
.btn-burst::before{
  content:""; position:absolute; inset:-90px;
  background:
    radial-gradient(circle, rgba(255,255,255,0.75) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(255,220,140,0.60) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(255,240,200,0.50) 0 1px, transparent 2px);
  transform:scale(0.3);
  animation: burstPop 700ms cubic-bezier(.2,.9,.2,1) 1;
}
@keyframes burstPop{
  0%{transform:scale(0.25); opacity:0.2}
  40%{transform:scale(1.0); opacity:1}
  100%{transform:scale(1.25); opacity:0}
}
@keyframes burstFade{ to{opacity:0} }

/* ================= Responsive ================= */
@media (max-width:900px){
  :root{ --gap-width:36vw; }
  .banner.vertical{ font-size:30px; width:74px }
  .lock-time{ font-size:18px }
  .padlock{ font-size:38px }
  .border{ height:52px }
  .firecracker{ width:92px; height:190px; }
}
@media (max-width:520px){
  :root{ --gap-width:44vw }
  .banner.vertical{ font-size:26px; width:64px }
  .door.open.left { transform: translateX(calc(-1 * (var(--gap-width) / 2 + 6vw))); }
  .door.open.right{ transform: translateX(calc((var(--gap-width) / 2 + 6vw))); }
  .lock-time{ font-size:16px }
}

/* ================= Reduce motion ================= */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; }
  .film-grain, .tet-motifs{ display:none; }
}
/* ===== Force button (bypass) ===== */
.force-btn{
  margin-top: 12px;
  padding: 12px 22px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: linear-gradient(180deg, rgba(255,80,80,1), rgba(170,10,10,1));
  color: #fff;
  font-weight: 900;
  font-size: 16px;
  letter-spacing: .6px;
  box-shadow: 0 18px 50px rgba(0,0,0,0.45), 0 0 0 6px rgba(255,120,120,0.06);
  cursor: pointer;
}
.force-btn:hover{ filter: brightness(1.06) contrast(1.06); transform: translateY(-1px); }
.force-btn:active{ transform: translateY(0) scale(0.99); }

.force-hint{
  margin-top: 8px;
  font-size: 12px;
  color: rgba(255,255,255,0.62);
}
